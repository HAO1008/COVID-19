lottie.loadAnimation({path:"./lottie/covid19.json",loop:!0,autoplay:!0,renderer:"canvas",container:document.getElementById("animation")});const btn=document.querySelector("#btn"),input=document.querySelector("#searchinput");btn.addEventListener("click",getCountry),btn.addEventListener("click",()=>{}),input.addEventListener("keydown",a=>{13==a.keyCode?getCountry():console.log("hahaha")});function getCountry(){let a=document.querySelector("#searchinput").value.trim();console.log(a),fetch(`https://corona.lmao.ninja/v2/countries/${a}`).then(a=>a.json()).then(a=>{const b=document.querySelector("#no-found"),c=document.querySelector(".show-area");console.log(a.country),a.country?(c.classList.remove("hide"),b.classList.remove("show"),document.querySelector("#flag").src=a.countryInfo.flag,document.querySelector("#country").innerHTML=a.country,document.querySelector("#cases").innerHTML=a.cases,document.querySelector("#deaths").innerHTML=a.deaths,document.querySelector("#recovered").innerHTML=a.recovered,document.querySelector("#tests").innerHTML=a.tests):(document.querySelector("#flag").src="",document.querySelector("#country").innerHTML="\u2510(\xB4w`)\u250C",b.classList.add("show"),c.classList.add("hide"))})}const fiexedBar=document.querySelector(".fixed-bar"),a=fiexedBar.querySelectorAll("a"),content=document.querySelectorAll("content"),close=document.querySelectorAll(".fa-times");for(let b=0;b<a.length;b++)a[b].setAttribute("index",b),a[b].addEventListener("click",function(){for(let b of a)b.classList.remove("icon-active");this.classList.add("icon-active");var b=this.getAttribute("index");for(contents of content)contents.classList.remove("circle-active");content[b].classList.add("circle-active")});for(closes of close)closes.addEventListener("click",function(){for(let a of content)a.classList.remove("circle-active");for(let b of a)b.classList.remove("icon-active")});const intImg=document.querySelector(".int-sm-img"),img=intImg.querySelectorAll("img"),covid19=document.querySelector(".covid19"),int=document.querySelector(".introduction"),intH1=int.querySelector("h1"),intP=int.querySelector("p"),intObj=[{h1:"\u65B0\u51A0\u80BA\u708E COVID-19",p:"2019\u5E7412\u6708\u8D77\u4E2D\u570B\u6E56\u5317\u6B66\u6F22\u5E02\u767C\u73FE\u4E0D\u660E\u539F\u56E0\u80BA\u708E\u7FA4\u805A\uFF0C\u75AB\u60C5\u521D\u671F\u500B\u6848\u591A\u8207\u6B66\u6F22\u83EF\u5357\u6D77\u9BAE\u57CE\u6D3B\u52D5\u53F2\u6709\u95DC\uFF0C\u4E2D\u570B\u5B98\u65B9\u65BC2020\u5E741\u67089\u65E5\u516C\u5E03\u5176\u75C5\u539F\u9AD4\u70BA\u65B0\u578B\u51A0\u72C0\u75C5\u6BD2\u3002\u6B64\u75AB\u60C5\u96A8\u5F8C\u8FC5\u901F\u5728\u4E2D\u570B\u5176\u4ED6\u7701\u5E02\u8207\u4E16\u754C\u5404\u5730\u64F4\u6563\uFF0C\u4E26\u8B49\u5BE6\u53EF\u6709\u6548\u4EBA\u50B3\u4EBA\u3002"},{h1:"\u5F8C\u75AB\u60C5\u6642\u4EE3\u7684\u53F0\u7063\uFF01",p:"COVID-19\u65B0\u51A0\u80BA\u708E\u96D6\u7136\u4E0D\u662F\u4EBA\u985E\u6B77\u53F2\u4E0A\u9020\u6210\u6700\u591A\u6B7B\u4EA1\u7684\u50B3\u67D3\u75C5\uFF0C\u537B\u53EF\u80FD\u5728\u4E0D\u9060\u7684\u672A\u4F86\u5FB9\u5E95\u6539\u8B8A\u4EBA\u5011\u7684\u751F\u6D3B\u7FD2\u6163\uFF0C\u4E43\u81F3\u65BC\u5168\u7403\u5316\u7684\u9032\u7A0B\u3002 \u5F9E\u5FAE\u89C0\u7684\u751F\u6D3B\u5C64\u9762\u4F86\u770B\uFF0C\u8209\u51E1\u4EBA\u5011\u7684\u793E\u4EA4\u65B9\u5F0F\u3001\u98F2\u98DF\u7FD2\u6163\u3001\u5A1B\u6A02\u578B\u614B\uFF0C\u751A\u81F3\u5DE5\u4F5C\u6A21\u5F0F\uFF0C\u90FD\u6703\u56E0\u9019\u6B21\u75AB\u60C5\u7522\u751F\u9577\u4E45\u7684\u6539\u8B8A\u3002 "},{h1:"\u75AB\u60C5\u5C0D\u6559\u80B2\u7684\u885D\u64CA",p:"\u6211\u5011\u4EE5\u70BA\u75AB\u60C5\u7684\u885D\u64CA\u5FEB\u7D50\u675F\u4E86\uFF0C\u4F46\u9019\u662F\u932F\u7684\uFF0C\u9019\u4E9B\u885D\u64CA\u5C07\u5EF6\u7E8C\u6578\u5341\u5E74\u3002\u300D\u82F1\u570B\u570B\u5BB6\u5B78\u8853\u9662\u8FD1\u671F\u5C0D\u65BCCOVID-19\u5C0D\u82F1\u570B\u793E\u6703\u5E36\u4F86\u7684\u9577\u671F\u5F71\u97FF\uFF0C\u767C\u8868\u4E86\u4E00\u4EFD\u9577\u9054173\u9801\u7684\u8ABF\u67E5\u3002\u5831\u544A\u88E1\u7279\u5225\u8AC7\u5230\uFF0C\u75AB\u60C5\u4E0B\u7684\u5152\u7AE5\u548C\u9752\u5C11\u5E74\u4E0A\u8AB2\u65B9\u5F0F\u7684\u8F49\u8B8A\uFF0C\u5C0D\u5B78\u7FD2\u72C0\u6CC1\u548C\u5FC3\u7406\u72C0\u614B\u6709\u591A\u5927\u7684\u885D\u64CA\u3002"}];for(let a=0;a<img.length;a++)img[a].setAttribute("index",a),img[a].addEventListener("click",function(){const a=this.src;for(let a of img)a.classList.remove("img-avtive");var b=this.getAttribute("index");this.classList.add("img-avtive"),covid19.style.background=`url(${a}) center/cover rgba(44, 44, 44, 0.75)`,intH1.innerText=intObj[b].h1,intP.innerText=intObj[b].p});var countryArr=[],averageArr=[];fetch(`https://corona.lmao.ninja/v2/countries`).then(a=>a.json()).then(a=>{for(let c=0;c<a.length;c++){var b=100*(a[c].deaths/a[c].tests);b=b.toFixed(3),1.2<b&&3>b&&(countryArr.push(a[c].country),averageArr.push(b))}}),console.log(countryArr);var ctx=document.getElementById("chart").getContext("2d"),myChart=new Chart(ctx,{type:"bar",data:{labels:countryArr,datasets:[{label:"#\u9AD8\u6B7B\u4EA1\u7387\u570B\u5BB6",data:averageArr,backgroundColor:["rgba(200, 200, 200, 0.1)"],borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{legend:{labels:{color:"#fff",font:{size:18}}},scales:{y:{beginAtZero:!0,ticks:{color:"#fff"}},x:{beginAtZero:!0,ticks:{color:"#fff"}}}}});const chartBtn=document.querySelector(".chart-btn");var chart=document.querySelector(".chart");chartBtn.addEventListener("click",function(){chart.style.width="69.99%"});